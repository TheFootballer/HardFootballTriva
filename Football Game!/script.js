const questions = {
    easy: [
        {
            question: "Who is known as 'The King of Football'?",
            options: ["Lionel Messi", "Cristiano Ronaldo", "Pelé", "Diego Maradona"],
            answer: "Pelé",
            points: 10,
        },
        {
            question: "What year was the first FIFA World Cup held?",
            options: ["1930", "1940", "1920", "1950"],
            answer: "1930",
            points: 10,
        },
        {
            question: "Which club does Lionel Messi currently play for as of 2024?",
            options: ["Barcelona", "Paris Saint-Germain", "Inter Miami", "Juventus"],
            answer: "Inter Miami",
            points: 10,
        },
        {
            question: "How many FIFA World Cups has Brazil won?",
            options: ["5", "4", "3", "6"],
            answer: "5",
            points: 10,
        },
        {
            question: "What is the name of the trophy awarded to the winner of the FIFA World Cup?",
            options: ["The Jules Rimet Trophy", "The UEFA Champions Trophy", "The Copa America Trophy", "The FA Cup Trophy"],
            answer: "The Jules Rimet Trophy",
            points: 10,
        },
        {
            question: "Who scored the most goals in the history of the FIFA World Cup?",
            options: ["Ronaldo Nazário", "Pelé", "Marta", "Gerd Müller"],
            answer: "Marta",
            points: 10,
        },
        {
            question: "Which country is known for the famous football club Barcelona?",
            options: ["Spain", "Italy", "England", "Germany"],
            answer: "Spain",
            points: 10,
        },
        {
            question: "Who won the FIFA Ballon d'Or in 2019?",
            options: ["Lionel Messi", "Cristiano Ronaldo", "Luka Modrić", "Virgil van Dijk"],
            answer: "Lionel Messi",
            points: 10,
        },
        {
            question: "What is the standard length of a football match?",
            options: ["90 minutes", "80 minutes", "100 minutes", "120 minutes"],
            answer: "90 minutes",
            points: 10,
        },
        {
            question: "What color card is shown for a foul?",
            options: ["Red", "Yellow", "Blue", "Green"],
            answer: "Yellow",
            points: 10,
        },
        {
            question: "In which country did football originate?",
            options: ["Brazil", "England", "Germany", "Italy"],
            answer: "England",
            points: 10,
        },
        {
            question: "What is the maximum number of substitutes allowed in a football match?",
            options: ["3", "5", "7", "11"],
            answer: "5",
            points: 10,
        },
        {
            question: "Which famous player is known as 'CR7'?",
            options: ["Cristiano Ronaldo", "Ronaldinho", "Ronaldo Nazário", "David Beckham"],
            answer: "Cristiano Ronaldo",
            points: 10,
        },
        {
            question: "What does VAR stand for in football?",
            options: ["Video Assistant Referee", "Video Analysis Review", "Visual Aid Replay", "Virtual Assistant Referee"],
            answer: "Video Assistant Referee",
            points: 10,
        },
        {
            question: "What is the shape of a football?",
            options: ["Square", "Rectangle", "Circle", "Oval"],
            answer: "Circle",
            points: 10,
        },
        {
            question: "Which country hosted the 2018 FIFA World Cup?",
            options: ["Germany", "France", "Russia", "Brazil"],
            answer: "Russia",
            points: 10,
        },
        {
            question: "Which club does Neymar play for as of 2024?",
            options: ["Barcelona", "Paris Saint-Germain", "Chelsea", "Real Madrid"],
            answer: "Al Hilal",
            points: 10,
        },
        {
            question: "What is the name of the English football league?",
            options: ["La Liga", "Bundesliga", "Premier League", "Serie A"],
            answer: "Premier League",
            points: 10,
        },
    ],
    medium: [
        {
            question: "Which team won the UEFA Champions League in 2020?",
            options: ["Bayern Munich", "Manchester City", "Liverpool", "Real Madrid"],
            answer: "Bayern Munich",
            points: 20,
        },
        {
            question: "Who is the all-time top scorer in the UEFA Champions League?",
            options: ["Cristiano Ronaldo", "Lionel Messi", "Raúl", "Thierry Henry"],
            answer: "Cristiano Ronaldo",
            points: 20,
        },
        {
            question: "Which country won the Euro 2020 tournament?",
            options: ["Italy", "France", "Portugal", "Spain"],
            answer: "Italy",
            points: 20,
        },
        {
            question: "Which football club is based in Milan and has won the most Serie A titles?",
            options: ["AC Milan", "Inter Milan", "Juventus", "Napoli"],
            answer: "Juventus",
            points: 20,
        },
        {
            question: "What is the name of the stadium where Manchester United plays?",
            options: ["Anfield", "Old Trafford", "Etihad Stadium", "Wembley"],
            answer: "Old Trafford",
            points: 20,
        },
        {
            question: "Who won the Golden Boot in the 2022 FIFA World Cup?",
            options: ["Harry Kane", "Kylian Mbappé", "Lionel Messi", "Cristiano Ronaldo"],
            answer: "Kylian Mbappé",
            points: 20,
        },
        {
            question: "Which player has the most appearances in the Premier League?",
            options: ["Ryan Giggs", "Frank Lampard", "Gareth Barry", "Steven Gerrard"],
            answer: "Gareth Barry",
            points: 20,
        },
        {
            question: "What is the maximum number of players allowed on a football team?",
            options: ["11", "12", "13", "15"],
            answer: "11",
            points: 20,
        },
        {
            question: "What is the main governing body of football worldwide?",
            options: ["UEFA", "FIFA", "CONCACAF", "AFC"],
            answer: "FIFA",
            points: 20,
        },
        {
            question: "Which country won the 1998 FIFA World Cup?",
            options: ["Brazil", "Italy", "France", "Germany"],
            answer: "France",
            points: 20,
        },
        {
            question: "Which club is known as 'The Gunners'?",
            options: ["Manchester United", "Chelsea", "Arsenal", "Liverpool"],
            answer: "Arsenal",
            points: 20,
        },
        {
            question: "Who is the only player to have won the World Cup three times?",
            options: ["Pelé", "Diego Maradona", "Lionel Messi", "Zinedine Zidane"],
            answer: "Pelé",
            points: 20,
        },
        {
            question: "What is the name of the German national football team?",
            options: ["Die Mannschaft", "La Roja", "Les Bleus", "Azzurri"],
            answer: "Die Mannschaft",
            points: 20,
        },
        {
            question: "Which player is known for the 'Hand of God' goal?",
            options: ["Lionel Messi", "Cristiano Ronaldo", "Diego Maradona", "Pelé"],
            answer: "Diego Maradona",
            points: 20,
        },
        {
            question: "Which team is known as 'Los Blancos'?",
            options: ["Barcelona", "Real Madrid", "Atletico Madrid", "Valencia"],
            answer: "Real Madrid",
            points: 20,
        },
        {
            question: "Which club did Didier Drogba play for most famously?",
            options: ["Arsenal", "Chelsea", "Manchester United", "Barcelona"],
            answer: "Chelsea",
            points: 20,
        },
        {
            question: "Who is the top scorer for the England national team?",
            options: ["Wayne Rooney", "Harry Kane", "Alan Shearer", "David Beckham"],
            answer: "Harry Kane",
            points: 20,
        },
        {
            question: "Who was the first African player to win the Ballon d'Or?",
            options: ["George Weah", "Samuel Eto'o", "Didier Drogba", "Yaya Touré"],
            answer: "George Weah",
            points: 20,
        },
    ],
    hard: [
        {
            question: "Which player scored the most goals in a single season of La Liga?",
            options: ["Cristiano Ronaldo", "Lionel Messi", "Raúl", "Karim Benzema"],
            answer: "Lionel Messi",
            points: 30,
        },
        {
            question: "Who is the all-time leading goal scorer in international matches?",
            options: ["Cristiano Ronaldo", "Lionel Messi", "Pelé", "Marta"],
            answer: "Cristiano Ronaldo",
            points: 30,
        },
        {
            question: "What is the highest transfer fee ever paid for a football player?",
            options: ["€222 million", "€200 million", "€150 million", "€100 million"],
            answer: "€222 million",
            points: 30,
        },
        {
            question: "Who was the first player to score a hat-trick in a World Cup final?",
            options: ["Geoff Hurst", "Pelé", "Diego Maradona", "Ronaldo Nazário"],
            answer: "Geoff Hurst",
            points: 30,
        },
        {
            question: "Which club has won the most UEFA Champions League titles?",
            options: ["Barcelona", "Real Madrid", "AC Milan", "Liverpool"],
            answer: "Real Madrid",
            points: 30,
        },
        {
            question: "Who holds the record for the most goals in a single Premier League season?",
            options: ["Sergio Agüero", "Alan Shearer", "Mohamed Salah", "Cristiano Ronaldo"],
            answer: "Mohamed Salah",
            points: 30,
        },
        {
            question: "Which country has won the most Copa America titles?",
            options: ["Argentina", "Brazil", "Uruguay", "Chile"],
            answer: "Uruguay",
            points: 30,
        },
        {
            question: "Who is the all-time top scorer in the UEFA European Championship?",
            options: ["Cristiano Ronaldo", "Michel Platini", "Alan Shearer", "Marco van Basten"],
            answer: "Cristiano Ronaldo",
            points: 30,
        },
        {
            question: "Which player has won the most Ballon d'Or awards?",
            options: ["Lionel Messi", "Cristiano Ronaldo", "Johan Cruyff", "Alfredo Di Stéfano"],
            answer: "Lionel Messi",
            points: 30,
        },
        {
            question: "Which country was the first to host the FIFA World Cup twice?",
            options: ["Italy", "France", "Brazil", "Germany"],
            answer: "Italy",
            points: 30,
        },
        {
            question: "What is the record number of goals scored by one player in a single Premier League season?",
            options: ["32", "34", "31", "36"],
            answer: "34",
            points: 30,
        },
        {
            question: "Who was the top scorer in the 2006 FIFA World Cup?",
            options: ["Zinedine Zidane", "Miroslav Klose", "Thierry Henry", "Fernando Torres"],
            answer: "Miroslav Klose",
            points: 30,
        },
        {
            question: "Who is known as 'The Special One'?",
            options: ["Pep Guardiola", "José Mourinho", "Carlo Ancelotti", "Jürgen Klopp"],
            answer: "José Mourinho",
            points: 30,
        },
        {
            question: "Who is the only player to win the FIFA World Cup as a player and coach?",
            options: ["Pelé", "Franz Beckenbauer", "Marcello Lippi", "Diego Maradona"],
            answer: "Franz Beckenbauer",
            points: 30,
        },
        {
            question: "Which football club is known as 'The Red Devils'?",
            options: ["Liverpool", "Manchester United", "Arsenal", "Chelsea"],
            answer: "Manchester United",
            points: 30,
        },
        {
            question: "What is the highest attendance recorded at a football match?",
            options: ["199,854", "180,000", "150,000", "120,000"],
            answer: "199,854",
            points: 30,
        },
        {
            question: "Which country has hosted the most FIFA World Cups?",
            options: ["Germany", "Brazil", "Italy", "France"],
            answer: "Italy",
            points: 30,
        },
        {
            question: "Which player has the most assists in Premier League history?",
            options: ["Ryan Giggs", "Frank Lampard", "Cesc Fàbregas", "Steven Gerrard"],
            answer: "Ryan Giggs",
            points: 30,
        },
    ],
    impossible: [
        {
            question: "Which country won the first ever Women's World Cup?",
            options: ["United States", "Norway", "Germany", "Japan"],
            answer: "United States",
            points: 40,
        },
        {
            question: "Who scored the first goal in the history of the Premier League?",
            options: ["Sheffield United", "Aston Villa", "Manchester United", "Crystal Palace"],
            answer: "Sheffield United",
            points: 40,
        },
        {
            question: "Which club has the longest unbeaten run in league history?",
            options: ["Arsenal", "Liverpool", "AC Milan", "Juventus"],
            answer: "Arsenal",
            points: 40,
        },
        {
            question: "Who was the first goalkeeper to win the Ballon d'Or?",
            options: ["Lev Yashin", "Gianluigi Buffon", "Iker Casillas", "Peter Schmeichel"],
            answer: "Lev Yashin",
            points: 40,
        },
        {
            question: "What year did the Premier League start?",
            options: ["1992", "1990", "1995", "2000"],
            answer: "1992",
            points: 40,
        },
        {
            question: "Who is the only player to have scored in five different World Cups?",
            options: ["Cristiano Ronaldo", "Lionel Messi", "Pelé", "Ronaldo Nazário"],
            answer: "Cristiano Ronaldo",
            points: 40,
        },
        {
            question: "Who was the first player to reach 100 international goals?",
            options: ["Pelé", "Ali Daei", "Cristiano Ronaldo", "Lionel Messi"],
            answer: "Ali Daei",
            points: 40,
        },
        {
            question: "Which player holds the record for the most goals in a single UEFA European Championship tournament?",
            options: ["Michel Platini", "Cristiano Ronaldo", "Alan Shearer", "Thierry Henry"],
            answer: "Michel Platini",
            points: 40,
        },
        {
            question: "Which club has the most FA Cup wins?",
            options: ["Manchester United", "Arsenal", "Liverpool", "Chelsea"],
            answer: "Arsenal",
            points: 40,
        },
        {
            question: "Which country has the most Olympic gold medals in football?",
            options: ["Brazil", "Hungary", "Italy", "United States"],
            answer: "Hungary",
            points: 40,
        },
        {
            question: "Who was the first player to score a goal in the Premier League?",
            options: ["Brian Deane", "Alan Shearer", "Eric Cantona", "Robbie Fowler"],
            answer: "Brian Deane",
            points: 40,
        },
        {
            question: "What is the highest number of goals scored by a team in a single World Cup tournament?",
            options: ["27", "20", "18", "25"],
            answer: "27",
            points: 40,
        },
        {
            question: "Which football club has won the most international trophies?",
            options: ["Real Madrid", "Barcelona", "AC Milan", "Boca Juniors"],
            answer: "Barcelona",
            points: 40,
        },
        {
            question: "Which country has the most FIFA World Cup final appearances?",
            options: ["Brazil", "Germany", "Italy", "Argentina"],
            answer: "Germany",
            points: 40,
        },
        {
            question: "Which player has the record for the most appearances in the Champions League?",
            options: ["Cristiano Ronaldo", "Lionel Messi", "Iker Casillas", "Paolo Maldini"],
            answer: "Iker Casillas",
            points: 40,
        },
        {
            question: "Which player is known for the famous quote 'I am not a human being, I am a footballer'?",
            options: ["Cristiano Ronaldo", "Diego Maradona", "Zinedine Zidane", "Ronaldinho"],
            answer: "Diego Maradona",
            points: 40,
        },
        {
            question: "Which team did Zinedine Zidane headbutt Marco Materazzi in the 2006 World Cup final?",
            options: ["Brazil", "Italy", "Argentina", "Germany"],
            answer: "Italy",
            points: 40,
        },
    ]
};

let currentScore = 0;
let currentQuestionIndex = 0;
let currentQuestions = [];
let timer;
let timeLeft = 15;

function startGame(difficulty) {
    document.getElementById("difficulty-selection").style.display = "none";
    document.getElementById("quiz-container").style.display = "block";

    currentQuestions = shuffleArray(questions[difficulty]);
    currentQuestionIndex = 0;
    currentScore = 0;
    timeLeft = 15;

    document.getElementById("score").innerText = `Score: ${currentScore}`;
    loadQuestion();
    startTimer();
}

function loadQuestion() {
    clearFeedback();
    const questionData = currentQuestions[currentQuestionIndex];
    document.getElementById("question").innerText = questionData.question;
    const optionsContainer = document.getElementById("options");
    optionsContainer.innerHTML = '';

    questionData.options.forEach(option => {
        const button = document.createElement("button");
        button.innerText = option;
        button.onclick = () => checkAnswer(option);
        optionsContainer.appendChild(button);
    });

    document.getElementById("skip-btn").style.display = "inline-block";
    document.getElementById("fifty-fifty-btn").style.display = "inline-block";
    document.getElementById("hint-btn").style.display = "inline-block";
}

function checkAnswer(selectedOption) {
    const questionData = currentQuestions[currentQuestionIndex];
    clearInterval(timer);

    if (selectedOption === questionData.answer) {
        currentScore += questionData.points;
        document.getElementById("feedback").innerText = "Correct!";
    } else {
        document.getElementById("feedback").innerText = `Incorrect! The correct answer was: ${questionData.answer}`;
    }

    document.getElementById("score").innerText = `Score: ${currentScore}`;

    currentQuestionIndex++;
    if (currentQuestionIndex < currentQuestions.length) {
        setTimeout(loadQuestion, 2000);
        timeLeft = 15;
    } else {
        endGame();
    }
}

function endGame() {
    clearInterval(timer);
    document.getElementById("quiz-container").style.display = "none";
    document.getElementById("end-container").style.display = "block";
    document.getElementById("final-score").innerText = `Your final score is: ${currentScore}`;
}

function restartGame() {
    document.getElementById("end-container").style.display = "none";
    document.getElementById("difficulty-selection").style.display = "block";
}

function startTimer() {
    timeLeft = 15;
    document.getElementById("time-remaining").innerText = timeLeft;
    timer = setInterval(() => {
        timeLeft--;
        document.getElementById("time-remaining").innerText = timeLeft;
        if (timeLeft <= 0) {
            clearInterval(timer);
            document.getElementById("feedback").innerText = "Time's up!";
            currentQuestionIndex++;
            if (currentQuestionIndex < currentQuestions.length) {
                setTimeout(loadQuestion, 2000);
            } else {
                endGame();
            }
        }
    }, 1000);
}

function clearFeedback() {
    document.getElementById("feedback").innerText = '';
}

function skipQuestion() {
    clearInterval(timer);
    currentQuestionIndex++;
    if (currentQuestionIndex < currentQuestions.length) {
        loadQuestion();
        timeLeft = 15;
    } else {
        endGame();
    }
}

function fiftyFifty() {
    const questionData = currentQuestions[currentQuestionIndex];
    const correctAnswerIndex = questionData.options.indexOf(questionData.answer);
    const wrongOptions = questionData.options.filter(option => option !== questionData.answer);
    const optionsToRemove = wrongOptions.length > 1 ? 2 : 1; // Remove up to 2 wrong options if available

    while (optionsToRemove > 0) {
        const randomIndex = Math.floor(Math.random() * wrongOptions.length);
        questionData.options.splice(questionData.options.indexOf(wrongOptions[randomIndex]), 1);
        wrongOptions.splice(randomIndex, 1);
        optionsToRemove--;
    }
    loadQuestion();
}

function giveHint() {
    const questionData = currentQuestions[currentQuestionIndex];
    document.getElementById("feedback").innerText = `Hint: The correct answer starts with "${questionData.answer.charAt(0)}".`;
}

function showAddQuestionForm() {
    document.getElementById("add-question-form").style.display = "block";
}

function hideAddQuestionForm() {
    document.getElementById("add-question-form").style.display = "none";
}

function addQuestion() {
    const newQuestion = document.getElementById("new-question").value;
    const newOptions = [
        document.getElementById("option1").value,
        document.getElementById("option2").value,
        document.getElementById("option3").value,
        document.getElementById("option4").value,
    ];
    const newAnswer = document.getElementById("new-answer").value;
    const newPoints = parseInt(document.getElementById("new-points").value, 10);

    questions.medium.push({ question: newQuestion, options: newOptions, answer: newAnswer, points: newPoints });
    hideAddQuestionForm();
}

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

